!function(t){function e(o){if(s[o])return s[o].exports;var n=s[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var s={};return e.m=t,e.c=s,e.i=function(t){return t},e.d=function(t,e,s){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=55)}({0:function(t,e,s){var o,n;o=s(2);var i=s(4);n=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(n=o=o.default),"function"==typeof n&&(n=n.options),n.render=i.render,n.staticRenderFns=i.staticRenderFns,t.exports=o},2:function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=s(3),i=o(n);e.default={name:"Modal",components:{},props:{mode:{type:String,default:"swipeDown"}},created:function(){this.$refs.list;console.log("initer"),this.touchit=new i.default({dom:document.body,type:this.mode,done:this._loading,doing:this._handleTouch})},methods:{reset:function(){this.pullState=0,this._move(0),this.isloading=!1},_move:function(t){this.$refs.list.style.transform="translate(0px, "+t+"px)"},_loading:function(t){console.log("loading"+t.distance.y),this.$emit("list-loading",this),this.isloading=!0,this.pullState=4,this.distance=0,"swipeUp"==this.mode&&this._move(-50),"swipeDown"==this.mode&&this._move(50)},_handleTouch:function(t,e){switch(t){case"touchstart":break;case"touchmove":var s=!0;switch(Math.abs(this.distance)<100&&(this.distance=e.distance.y,this._move(this.distance)),console.log(e.position),this.mode){case"swipeUp":document.body.scrollTop+document.body.clientHeight==document.body.scrollHeight;console.log("------"),console.log(document.body.scrollTop),console.log(document.body.clientHeight),console.log(document.body.scrollHeight),e.distance.y<0?(s=!0,this.pullState=2):(s=!1,this.pullState=0);break;case"swipeDown":console.log("moving"),e.distance.y>0?(s=!0,this.pullState=1):(s=!1,this.pullState=0)}Math.abs(e.distance.y)>60&&s&&(this.pullState=3);break;case"touchend":this.distance=0,this.pullState=0,console.log("pulldown touchend"+e.distance.y),this._move(0)}}},data:function(){return{touchit:null,isloading:!1,notice:["","下拉刷新列表","上拉刷新列表","松开刷新","加载中"],pullState:0,distance:0}},beforeDestroy:function(){this.touchit.destory()}}},3:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){this.distanceX=0,this.distanceY=0,this.startPos=[0,0],this.currentPos=[0,0],this.state="FREE",this.dom=t.dom,this.eventType=t.type||"swipeDown",this.callback=t.doing||function(){},this.donecallback=t.done;var e=this;this.handleTouchStart=function(t){e.state="START";var s=t.targetTouches[0];e.startPos=[s.pageX,s.pageY],e.callback("touchstart",{distance:{x:e.distanceX,y:e.distanceY},position:e.startPos,state:e.state})},this.handleTouchMove=function(t){e.state="MOVING";var s=t.targetTouches[0];e.currentPos=[s.pageX,s.pageY],e.distanceX=e.currentPos[0]-e.startPos[0],e.distanceY=e.currentPos[1]-e.startPos[1],e.callback("touchmove",{distance:{x:e.distanceX,y:e.distanceY},position:e.currentPos,state:e.state})},this.handleTouchEnd=function(t){e.state="END",e.distanceX=e.currentPos[0]-e.startPos[0],e.distanceY=e.currentPos[1]-e.startPos[1],e.actions[e.eventType]()||e.callback("touchend",{distance:{x:e.distanceX,y:e.distanceY},position:e.currentPos,state:e.state}),e.state="FREE",e.distanceX=0,e.distanceY=0,e.startPos=[0,0],e.currentPos=[0,0]},this.actions={swipeDown:function(){return e.distanceY>60&&(e.donecallback({distance:{x:e.distanceX,y:e.distanceY},position:e.currentPos,state:e.state}),!0)},swipeUp:function(){return e.distanceY<-60&&(e.donecallback({distance:{x:e.distanceX,y:e.distanceY},position:e.currentPos,state:e.state}),!0)}},this.init=function(){this.dom.addEventListener("touchstart",this.handleTouchStart),this.dom.addEventListener("touchmove",this.handleTouchMove),this.dom.addEventListener("touchend",this.handleTouchEnd)},this.destory=function(){this.dom.removeEventListener("touchstart",this.handleTouchStart),this.dom.removeEventListener("touchmove",this.handleTouchMove),this.dom.removeEventListener("touchend",this.handleTouchEnd)},this.init()};e.default=s},4:function(module,exports){module.exports={render:function(){with(this)return _h("ul",{ref:"list",staticClass:"list"},[_h("li",{directives:[{name:"show",rawName:"v-show",value:pullState>0&&"swipeDown"==mode,expression:"pullState>0&&mode=='swipeDown'"}],staticClass:"down-fresh"},[_h("p",[_h("i",{staticClass:"icon iconfont icon-loading",class:[isloading?"loading":""]})," ",_h("span",[_s(notice[pullState])])])])," ",_t("default")," ",_h("li",{directives:[{name:"show",rawName:"v-show",value:pullState>0&&"swipeUp"==mode,expression:"pullState>0&&mode=='swipeUp'"}],staticClass:"up-fresh"},[_h("p",[_h("i",{staticClass:"icon iconfont icon-loading",class:[isloading?"loading":""]})," ",_h("span",[_s(notice[pullState])])])])])},staticRenderFns:[]}},55:function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.List=void 0;var n=s(0),i=o(n);e.List=i.default}});